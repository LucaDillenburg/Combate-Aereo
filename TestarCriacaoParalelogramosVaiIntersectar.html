<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">

    <!-- bibliotecas do P5 -->
    <script src="Javascript/p5/p5.min.js"></script>
    <script src="Javascript/p5/addons/p5.dom.min.js"></script>
    <script src="Javascript/p5/addons/p5.sound.min.js"></script>

    <!-- basico geometria e classes auxiliares -->
    <script src="Javascript/GeometriaBasica.js"></script>
    <script src="Javascript/FormasGeometricas.js"></script>
    <script src="Javascript/ListaDuplamenteLigada.js"></script>

    <!-- objetos tela e controladores de 2o escalao -->
    <script src="Javascript/ObjetosSimples.js"></script>
    <script src="Javascript/OutrosControladores.js"></script>
    <script src="Javascript/ObjetosComplexos.js"></script>

    <title></title>
  </head>
  <body onload="setup()">
    <script>
    function setup()
    {
      createCanvas(800, 600);
      background(0);
      corImg = {stroke: color("white"), fill: color("blue")};
    }
    let corImg;

TEM QUE MUDAR O VAITERINTERSECCAO PARA COLOCAR NA TELA OS PARALELOGRAMOS (SEM SE IMPORTAR COM OBJ1)

    // teste se os paralelogramos da colisao estao sendo construidos adequadamente (TRIANGULOS)
    let triang, p1, p2, p3, p4;
    let qtdAndar;
    document.onclick = function()
    {
      if (p1 == null)
        p1 = new Ponto(mouseX, mouseY);
      else
      if (p2 == null)
        p2 = new Ponto(mouseX, mouseY);
      else
      if (p3 == null)
      {
        p3 = new Ponto(mouseX, mouseY);
        triang = new Triangulo(p1, p2, p3, corImg);
      }else
      if (p4 == null)
      {
        p4 = new Ponto(mouseX, mouseY);
        qtdAndar = p4.menos(p1);
      }else
      {
        p1 = new Ponto(mouseX, mouseY);
        p2 = null;
        p3 = null;
        p4 = null;
      }
    }

    function draw()
    {
      background(0);
      if (p3 != null)
      {
        triang.draw();
        if (p4 != null)
          Interseccao.qntPodeAndarAntesIntersec(null, triang, qtdAndar.x, qtdAndar.y);
      }
    }

    /*
    // teste se os paralelogramos da colisao estao sendo construidos adequadamente (quadrados/retangulos)
    let retangulo, p1, p2, p3;
    let qtdAndar;
    document.onclick = function()
    {
      if (p1 == null)
        p1 = new Ponto(mouseX, mouseY);
      else
      if (p2 == null)
      {
        p2 = new Ponto(mouseX, mouseY);
        retangulo = new Retangulo(p1.x, p1.y, p2.x-p1.x, p2.y-p1.y, corImg);
      }
      else
      if (p3 == null)
      {
        p3 = new Ponto(mouseX, mouseY);
        qtdAndar = p3.menos(p1);
      }else
      {
        p1 = new Ponto(mouseX, mouseY);
        p2 = null;
        p3 = null;
      }
    }

    function draw()
    {
      background(0);
      if (retangulo != null)
      {
        retangulo.draw();
        if (qtdAndar != null)
          Interseccao.qntPodeAndarAntesIntersec(null, retangulo, qtdAndar.x, qtdAndar.y);
      }
    } */

    /*
    // TESTE DO PARALELOGRAMO SENDO CRIADO (se o ponto D estah sendo calculado adequadamente)
    let paralelogramo;
    let pontos = new Array(3);
    let qtdPontos = 0;
    document.onclick = function()
    {
      if (qtdPontos >= 3)
      {
        qtdPontos = 0;
        pontos = new Array(3);
      }

      pontos[qtdPontos] = new Ponto(mouseX, mouseY);
      qtdPontos++;

      if (qtdPontos == 3)
        paralelogramo = new Paralelogramo(pontos[0], pontos[1], pontos[2], null, {stroke: color("white"), fill: color("blue")});
    }

    function setup()
    {
      createCanvas(800, 600);
      background(0);
    }
    function draw()
    {
      background(0);
      if (paralelogramo != null)
        paralelogramo.draw();
    }
    */
    </script>
  </body>
</html>
